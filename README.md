# Player Doll Addon (玩家玩偶附属模组)

## 简介

这是一个玩家玩偶模组，支持创建和放置玩家玩偶实体。模组提供了Steve和Alex的默认玩偶，并支持从游戏目录动态加载自定义皮肤材质玩偶。

## 功能特性

- **固定玩偶**：提供Steve（粗手臂）和Alex（细手臂）的默认玩偶
- **动态加载功能**：从游戏目录自动扫描并注册自定义皮肤材质玩偶
- **右键放置**：使用玩偶物品右键方块可以在指定位置放置玩偶实体

## 安装要求

- Minecraft 1.21.1
- NeoForge 21.1.217 或更高版本

## 使用方法

### 基础使用

1. 在创造模式物品栏的"玩家玩偶"标签页中找到玩偶物品
2. 使用玩偶物品右键方块：在方块旁边放置对应的玩偶实体

### 动态加载自定义皮肤玩偶

模组支持从游戏目录自动加载自定义皮肤材质，无需修改代码即可添加新的玩偶。

#### 步骤

1. **创建材质目录**
   - 在游戏根目录（与 `mods` 文件夹同级）创建 `doll_textures` 文件夹
   - 如果目录不存在，模组会在首次启动时自动创建

2. **准备皮肤材质文件**
   - 将玩家皮肤PNG文件放入 `doll_textures` 文件夹
   - 文件必须是标准的Minecraft玩家皮肤格式（64x64或64x32像素）

3. **文件命名规则**
   - 文件名必须以 `S` 或 `A` 开头，表示模型类型：
     - `S` = 粗手臂模型（Steve模型）
     - `A` = 细手臂模型（Alex模型）
   - 第一个字符后的部分将作为玩偶的显示名称
   - 名称处理规则：
     - 单个下划线 `_` 会被替换为空格
     - 双下划线 `__` 会被替换为单个下划线 `_`

#### 命名示例

| 文件名 | 模型类型 | 显示名称 | 说明 |
|--------|---------|---------|------|
| `SMy_Character.png` | 粗手臂 | `My Character` | 单下划线变为空格 |
| `A123_ABC__qwe.png` | 细手臂 | `123 ABC_qwe` | 单下划线变空格，双下划线变单下划线 |
| `SHero_Doll.png` | 粗手臂 | `Hero Doll` | 单下划线变为空格 |
| `AVillager_Guard.png` | 细手臂 | `Villager Guard` | 单下划线变为空格 |

#### 使用流程

1. 将皮肤材质文件放入 `doll_textures` 文件夹
2. 启动游戏或重新加载资源包
3. 模组会自动扫描目录并注册所有PNG文件
4. 在创造模式物品栏的"玩家玩偶"标签页中找到新注册的玩偶物品
5. 使用玩偶物品可以放置对应的玩偶实体

#### 注意事项

- 文件名首字符必须是 `S` 或 `A`，其他字符会被忽略
- 文件名长度至少为2个字符（首字符 + 至少1个字符）
- 只支持PNG格式的图片文件
- 皮肤材质文件应遵循Minecraft标准皮肤格式
- 如果文件名不符合规则，该文件会被跳过并记录警告日志
- 模组启动时会自动扫描目录，无需手动刷新

## 技术信息

- **模组ID**: `player_doll_addon`
- **模组名称**: Player Doll Addon
- **Minecraft版本**: 1.21.1
- **NeoForge版本**: 21.1.217
- **Java版本**: 21

### 动态加载技术细节

- 模组在启动时扫描 `doll_textures` 目录
- 自动解析文件名并注册实体和物品
- 支持动态实体类型和渲染器
- 使用自定义资源管理器处理外部纹理文件

## 目录结构

```
游戏根目录/
├── mods/                    # 模组文件夹
├── doll_textures/           # 自定义皮肤材质目录（自动创建）
│   ├── SMy_Character.png   # 粗手臂模型玩偶
│   ├── A123_ABC__qwe.png   # 细手臂模型玩偶
│   └── ...
└── ...
```

## 未来计划

- [x] 实现玩家模型渲染（替换方块显示）
- [x] 支持自定义玩家皮肤（通过动态加载）
- [ ] 支持查看其他玩家的玩偶
- [ ] 添加更多自定义选项
- [ ] 支持子目录组织皮肤文件
- [ ] 支持热重载（无需重启游戏）

## 许可证

All Rights Reserved

## 相关资源

- [NeoForge 文档](https://docs.neoforged.net/)
- [NeoForge Discord](https://discord.neoforged.net/)
